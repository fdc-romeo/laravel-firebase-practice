!function(e){"use strict";e.fn.datePicky=function(a){var t=this,i={multipleDate:!0,format:"YYYY-MM-DD",animation:"",showCurrentDate:!0,activation:"alwaysOn",singleCalendarMode:!1,disableClickToggle:!1,showCurrentDateButton:!0,disableClickEvent:!1,setWeekHoliday:!1,holiday:"sunday",showPreDates:!0},s=Object.assign({},i,a),r=new Date,l=r.getFullYear(),n=r.getMonth(),o=[],d=r.getDate(),c=["Su","Mo","Tu","We","Th","Fr","Sa"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];s.hasOwnProperty("defaultViewYear")&&(l=a.defaultViewYear),s.hasOwnProperty("hasdefaultViewMonth")&&(n=a.defaultViewMonth-1);var D=function(e,a){return new Date(a,e,0).getDate()},p={setTable:function(a,t,i){var s=e("<table/>",{"class":"datePicker-calendar"}),r=e("<div/>",{"class":"table-overlay"});return a=p.setHeading(a,t,i),a.append(s),i.disableClickEvent&&s.append(r),s=p.setDays(s,i.setWeekHoliday,i.holiday),s=p.setDates(s,t,i),i.singleCalendarMode||i.showCurrentDateButton&&(a=p.setFooter(a,t,i)),a},formatDate:function(e){return e>=1&&9>=e&&(e="0"+e),e},formattedDate:function(e,a,t,i){return e+i+a+i+t},getDateFormat:function(e,a){var t,i=e.split("-");return"DD/MM/YYYY"===a?t=p.formattedDate(i[2],i[1],i[0],"/"):"MM/DD/YYYY"===a?t=p.formattedDate(i[1],i[2],i[0],"/"):"DD-MM-YYYY"===a?t=p.formattedDate(i[2],i[1],i[0],"-"):"MM-DD-YYYY"===a?t=p.formattedDate(i[1],i[2],i[0],"-"):"YYYY-MM-DD"===a?t=p.formattedDate(i[0],i[1],i[2],"-"):"D MMM, YYYY"===a?t=i[2]+" "+u[parseInt(i[1])-1]+", "+i[0]:"D MMMM, YYYY"===a?t=i[2]+" "+f[parseInt(i[1])-1]+", "+i[0]:jQuery.error("The defined date format is not supported "+a+" ."),t},setHeading:function(a,t,i){var s=e("<div/>",{"class":"calendar-heading"}),r=e("<div/>",{"class":"month-title"}),o=e("<div/>",{"class":"next",title:"Next Month"}),d=e("<div/>",{"class":"prev",title:"Previous Month"});return r.text(f[n]+" "+l),i.singleCalendarMode?s.append(r):(s.append(d),s.append(r),s.append(o),r.css({width:"calc(100% - 40px)","float":"left"})),o.click(function(e){a.empty(),n>=11?(n=0,l+=1):n+=1,a=p.setTable(a,t,i)}),d.click(function(){a.empty(),0>=n?(n=11,l-=1):n-=1,a=p.setTable(a,t,i)}),a.append(s)},setFooter:function(a,t,i){var s=e("<div/>",{"class":"footer-wrapper"});return s.text("Go to current date"),s.on("click",function(){a.empty(),l=r.getFullYear(),n=r.getMonth(),d=r.getDate(),a=p.setTable(a,t,i)}),a.append(s)},setValue:function(a,t,i){var s;if(p.updateActiveDates(t,i),i.multipleDate)for(var r=0;r<o.length;r++)s=p.getDateFormat(o[r],i.format),0==r?e(a).val(s):e(a).val(e(a).val()+", "+s);else e(a).val(p.getDateFormat(o[0],i.format)),"alwaysOn"!=i.activation&&v.removeDatePicker(a);i.callback?(i.callback.call(this,e(t).attr("date-value"),o),i.disableClickToggle||e(t).toggleClass("active")):i.disableClickToggle||e(t).toggleClass("active")},checkForMinDate:function(e,a,t,i,s){return a<s[0]?e.addClass("disabled"):a==s[0]&&(t<s[1]?e.addClass("disabled"):t==s[1]&&i<s[2]&&e.addClass("disabled")),e},checkForMaxDate:function(e,a,t,i,s){return a>s[0]?e.addClass("disabled"):a==s[0]&&(t>s[1]?e.addClass("disabled"):t==s[1]&&i>s[2]&&e.addClass("disabled")),e},checkForActiveDates:function(e,a,t,i,s,r){for(var l=0;l<s.length;l++)s[l][0]==a&&s[l][1]==t&&s[l][2]==i&&r&&e.addClass("active");return e},updateActiveDates:function(a,t){var i=e(a).attr("date-value"),s=e.inArray(i,o);!t.disableClickToggle&&t.multipleDate||!t.disableClickToggle&&"alwaysOn"==t.activation?s>-1&&e(a).hasClass("active")?o.splice(s,1):o.push(i):o[0]=i},setDates:function(a,t,i){var s,r,c=[];if(i.minDate&&(s=i.minDate.split("-")),i.maxDate&&(r=i.maxDate.split("-")),o)for(f=0;f<o.length;f++)c[f]=o[f].split("-");for(var f=1;f<=D(n+1,l);f){for(var u=e("<tr/>",{"class":"row-"+f}),v=new Date(l,n,1).getDay(),h=1;7>=h;h++,f++){var g=e("<td/>",{"class":"curr-month-date"});if(1==f){var m=D(n,l),k=n,M=l;0>=n&&(k=12,M=l-1);for(var C=v-1;C>=0;C--){var y=e("<td/>",{"class":"prev-month-date"});i.singleCalendarMode&&y.addClass("hidden"),i.minDate&&(y=p.checkForMinDate(y,M,k,parseInt(m)-C,s)),i.maxDate&&(y=p.checkForMaxDate(y,M,k,parseInt(m)-C,r)),y=p.checkForActiveDates(y,M,k,parseInt(m)-C,c,i.showPreDates),y.attr("date-value",M+"-"+p.formatDate(k)+"-"+p.formatDate(parseInt(m)-C)),y.text(m-C),u.append(y),h++,y.on("click",function(a){e(a.target).hasClass("disabled")||p.setValue(t,this,i)})}}else if(f>D(n+1,l)){var Y=1,b=n+2,w=l;n>=11&&(b=1,w=l+1);for(var C=u.children().length;7>C;C++,Y++){var x=e("<td/>",{"class":"next-month-date"});i.singleCalendarMode&&x.addClass("hidden"),i.minDate&&(x=p.checkForMinDate(x,w,b,Y,s)),i.maxDate&&(x=p.checkForMaxDate(x,w,b,Y,r)),x=p.checkForActiveDates(x,w,b,Y,c,i.showPreDates),x.attr("date-value",w+"-"+p.formatDate(b)+"-"+p.formatDate(Y)),x.text(Y),u.append(x),h++,x.on("click",function(a){e(a.target).hasClass("disabled")||p.setValue(t,this,i)})}break}if(i.showCurrentDate&&f==d){var F=new Date;n==F.getMonth()&&l==F.getFullYear()&&g.addClass("today")}i.setWeekHoliday&&(7==h&&"saturday"==i.holiday.toLowerCase()?g.addClass("red-color"):1==h&&"sunday"==i.holiday.toLowerCase()&&g.addClass("red-color")),i.minDate&&(g=p.checkForMinDate(g,l,parseInt(n)+1,f,s)),i.maxDate&&(g=p.checkForMaxDate(g,l,parseInt(n)+1,f,r)),g=p.checkForActiveDates(g,l,parseInt(n)+1,f,c,i.showPreDates),g.attr("date-value",l+"-"+p.formatDate(parseInt(n)+1)+"-"+p.formatDate(f)),g.text(f),g.click(function(a){e(a.target).hasClass("disabled")||p.setValue(t,this,i)}),u.append(g)}a.append(u)}return a},setDays:function(a,t,i){for(var s=e("<tr/>",{"class":"col"}),r=0;r<c.length;r++){var l=e("<th/>");l.text(c[r]),s.append(l)}return t&&"saturday"==i.toLowerCase()?s.children().last().addClass("red-color"):t&&"sunday"==i.toLowerCase()&&s.children().first().addClass("red-color"),a.append(s),a}},v={setDatePicker:function(a,t){var i=e("<div/>",{"class":"datePicker"});i=p.setTable(i,a,t),i.addClass("animated "+t.animation),i.insertAfter(e(a)),"onClick"==t.activation&&(e(a).parent().css({position:"relative"}),i.css({position:"absolute",marginTop:"5px",top:" 100%",zIndex:4})),i.animate({opacity:1},300)},removeDatePicker:function(a){e(a).next(".datePicker").animate({opacity:0},150,function(){e(a).next(".datePicker").remove()})}};s.preDates&&(o=s.preDates),"alwaysOn"==s.activation?e(t).next(".datePicker").length<=0&&v.setDatePicker(t,s):(e(t).focus(function(){e(t).next(".datePicker").length<=0&&v.setDatePicker(t,s)}),e(document).click(function(a){var i=e(".datePicker");e(t).is(a.target)||i.is(a.target)||0!=i.find("."+a.target.classList[0]).length||0!=e(i).has(a.target).length||v.removeDatePicker(t)}))}}(jQuery);